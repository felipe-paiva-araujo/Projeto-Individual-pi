<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/estilo/estilo.css">
    <title>cadastrar-se</title>
</head>
<body>
    <header id="header">
        <a href="#" class="logo">Biju Paiva</a>
        <ul>
            <li><a href="index.html">Home</a></li>
        </ul>
        <div class="toggle"></div>
    </header>

    <section id="formulario">
        <div>
        <h2>Cadastre-se agora mesmo</h2>
    

    
        <ul id="mensagemErro" class="m-erro">
        </ul>
        <div class="form">
            <input autocomplete="off" type="text" required id="nome">
            <label for="nome" class="label-nome">
                <Span class="span-nome">Nome completo</Span>
            </label>
        </div>
    
        <div class="form">
            <input autocomplete="off" type="text" required id="email">
            <label for="nome" class="label-nome">
                <Span class="span-nome">Email</Span>
            </label>
        </div>

        <div class="form">
            <input autocomplete="off" type="password" name="senha" required id="senha">
            <label for="nome" class="label-nome">
                <Span class="span-nome">Senha</Span>
            </label>
        </div>

        <div class="form">
            <input autocomplete="off" type="password" name="senha_2" required id="senha2">
            <label for="nome" class="label-nome">
                <Span class="span-nome">Repetir senha</Span>
            </label>
        </div>
        <br>
    <button class="but" onclick="enviaContatoProBanco()">Cadastre-se</button>
    
    
    <div class="mensagem" id="sucesso"></div>
</div>
</section>
</body>
</html>

<script>

    function enviaContatoProBanco(){

        var erros = validaContato();
        mensagemErro.innerHTML = "";

        if(erros.length > 0){
            for(var i=0; i < erros.length; i++){
            var erro = erros[i];
            var li = document.createElement("li");
            li.innerHTML = erro;
            mensagemErro.appendChild(li);
            }
        }
        else
        {
            sucesso.innerHTML = "Cadastrado com sucesso"
        }       
}


    function validaContato()
    {
        var errado = [];
        if(!nome.value){
          errado.push("Prencher nome!");
        }

        if(!email.value ||
            (email.value.search("@") == -1) ||
            (email.value.search(".") == -1) ||
            (email.value.search(" ") >= '')){
          errado.push("O formato do email é: usuario@dominio.com");
        }

        if (senha.value.length < 5)
        {
            errado.push("Senha muito pequena")
        }

        if (senha.value != senha2.value)
        {
            errado.push("As senhas não coincidem")
        }
        return errado;
    }
</script>